"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[188],{623:function(e,t,n){n.d(t,{BG:function(){return h},Bt:function(){return l},wr:function(){return p},y:function(){return f},z1:function(){return i}});var r=n(861),a=n(757),c=n.n(a),o=n(243),u="https://api.themoviedb.org/3/",s="ce53439883ea43717bbee26a020ebf68",i=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:1,e.next=3,o.Z.get("".concat(u,"search/movie?api_key=").concat(s,"&query=").concat(t,"&page=").concat(n));case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("".concat(u,"trending/movie/day?api_key=").concat(s));case 2:return t=e.sent,console.log(t.data),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("".concat(u,"movie/").concat(t,"/credits?api_key=").concat(s));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("".concat(u,"movie/").concat(t,"/reviews?api_key=").concat(s));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("".concat(u,"movie/").concat(t,"?api_key=").concat(s));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},188:function(e,t,n){n.r(t);var r=n(433),a=n(439),c=n(791),o=n(529),u=n(498),s=n(623),i=n(87),p=n(175),f=n(184);t.default=function(){var e=(0,c.useState)([]),t=(0,a.Z)(e,2),n=t[0],l=t[1],h=(0,c.useState)(1),m=(0,a.Z)(h,2),v=m[0],d=m[1],Z=(0,i.lr)(),g=(0,a.Z)(Z,2),x=g[0],y=g[1],w=(0,c.useState)(0),k=(0,a.Z)(w,2),b=k[0],j=k[1],_=n.length===b;(0,c.useEffect)((function(){var e=x.get("query");e&&(0,s.z1)(e,v).then((function(e){0!==e.length?(l((function(t){return[].concat((0,r.Z)(t),(0,r.Z)(e.results))})),j(e.total_results)):alert("No movies found. Please try a different search query.")}))}),[x,v]);return(0,f.jsx)(c.Suspense,{children:(0,f.jsxs)("div",{className:"css.container",children:[(0,f.jsxs)("form",{className:o.Z.movieForm,onSubmit:function(e){e.preventDefault(),l([]),d(1),y({query:e.target.searchQuery.value})},children:[(0,f.jsx)("input",{type:"text",name:"searchQuery",autoComplete:"off",autoFocus:!0,placeholder:"Search movies...",className:o.Z.movieInput}),(0,f.jsx)("button",{className:o.Z.movieBtn,type:"submit"})]}),(0,f.jsx)(u.Z,{movies:n}),n.length>0&&!_&&(0,f.jsx)(p.Z,{onClick:function(){b!==n.length?d((function(e){return e+1})):alert("We're sorry, but you've reached the end of search results.")},className:"movieBtn",children:"Load more"})]})})}},498:function(e,t,n){n.d(t,{Z:function(){return u}});n(791);var r=n(529),a=n(689),c=n(87),o=n(184),u=function(e){var t=e.movies,n=(0,a.TH)();return(0,o.jsx)("div",{className:r.Z.container,children:(0,o.jsx)("ul",{className:r.Z.searchMoviesList,children:t.map((function(e){return(0,o.jsx)("li",{className:r.Z.searchMoviesItem,children:(0,o.jsxs)(c.rU,{to:"/movies/".concat(e.id),state:{from:n},children:[(0,o.jsx)("img",{className:r.Z.searchMoviesImg,src:e.poster_path?"https://image.tmdb.org/t/p/w500"+e.poster_path:"https://www.freeiconspng.com/uploads/no-image-icon-6.png",alt:e.title}),(0,o.jsx)("p",{className:r.Z.searchMoviesText,children:e.title})]})},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")}),"")}(7))}))})})}},175:function(e,t,n){n.d(t,{Z:function(){return c}});var r={},a=n(184),c=function(e){var t=e.onClick,n=e.children;return(0,a.jsx)("button",{onClick:t,className:r.LoadMore,type:"button",children:n})}},529:function(e,t){t.Z={}}}]);
//# sourceMappingURL=188.18ae65ca.chunk.js.map